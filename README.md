# MCP Session Saver

ä¸€ä¸ªå¯ä»¥ä¿å­˜ä¼šè¯è®°å½•çš„MCPæœåŠ¡ï¼Œä¼šè¯å†…å®¹èƒ½å¤Ÿä¿å­˜åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼ŒæŒ‰ç…§**IDEåç§°ã€æ—¥æœŸã€ä¼šè¯æè¿°**å­˜å‚¨ä¸ºMarkdownæ–‡ä»¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… ä¿å­˜ä¼šè¯è®°å½•åˆ°Markdownæ–‡ä»¶
- âœ… æŒ‰IDEåç§°ã€æ—¥æœŸã€ä¼šè¯æè¿°è‡ªåŠ¨ç»„ç»‡ç›®å½•ç»“æ„
- âœ… æ”¯æŒåˆ—å‡ºå·²ä¿å­˜çš„ä¼šè¯è®°å½•
- âœ… è‡ªåŠ¨æ¸…ç†æ–‡ä»¶åä¸­çš„éæ³•å­—ç¬¦
- âœ… æ”¯æŒè‡ªå®šä¹‰ä¼šè¯æ—¶é—´
- âœ¨ **é…ç½®æ–‡ä»¶æ”¯æŒ** - ä¸€æ¬¡é…ç½®ï¼Œå¤šæ¬¡ä½¿ç”¨
- âœ¨ **é»˜è®¤è·¯å¾„** - æ— éœ€é…ç½®å³å¯ä½¿ç”¨

## ç›®å½•ç»“æ„

ä¿å­˜çš„ä¼šè¯æ–‡ä»¶æŒ‰ä»¥ä¸‹ç»“æ„ç»„ç»‡ï¼š

```
base_dir/
  â”œâ”€â”€ VSCode/
  â”‚   â”œâ”€â”€ 2025-12-15/
  â”‚   â”‚   â”œâ”€â”€ 10-30-00_å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½.md
  â”‚   â”‚   â””â”€â”€ 14-20-15_ä¿®å¤ç”¨æˆ·æ³¨å†ŒBug.md
  â”‚   â””â”€â”€ 2025-12-16/
  â”‚       â””â”€â”€ 09-00-00_ä»£ç å®¡æŸ¥æ€»ç»“.md
  â””â”€â”€ Cursor/
      â””â”€â”€ 2025-12-15/
          â”œâ”€â”€ 08-30-00_ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢.md
          â””â”€â”€ 15-20-00_AIè¾…åŠ©ä»£ç ç”Ÿæˆ.md
```

## å®‰è£…

```bash
npm install
```

## å¿«é€Ÿæµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬æ¥éªŒè¯åŠŸèƒ½ï¼š

```bash
npm test
```

è¿™å°†åˆ›å»ºç¤ºä¾‹ä¼šè¯å¹¶å±•ç¤ºä¿å­˜å’Œåˆ—è¡¨åŠŸèƒ½ã€‚

## é…ç½®

### æ–¹å¼1: ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ¨èï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `config.json` æ–‡ä»¶ï¼Œé…ç½®é»˜è®¤ä¼šè¯ä¿å­˜è·¯å¾„ï¼š

**Windows:**
```json
{
  "defaultBaseDir": "D:\\Users\\YourName\\Documents\\ide_sessions"
}
```

**macOS:**
```json
{
  "defaultBaseDir": "/Users/yourname/Documents/ide_sessions"
}
```

**Linux:**
```json
{
  "defaultBaseDir": "/home/yourname/Documents/ide_sessions"
}
```

**ä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·è·¯å¾„ï¼ˆmacOS/Linuxï¼‰:**
```json
{
  "defaultBaseDir": "~/Documents/ide_sessions"
}
```

**æ³¨æ„äº‹é¡¹ï¼š**
- âœ… Windows è·¯å¾„éœ€è¦ä½¿ç”¨åŒåæ–œæ  `\\` è½¬ä¹‰
- âœ… macOS/Linux ä½¿ç”¨æ­£æ–œæ  `/`
- âœ… macOS/Linux å¯ä»¥ä½¿ç”¨ `~` ä»£è¡¨ç”¨æˆ·ä¸»ç›®å½•

é…ç½®åï¼Œä½¿ç”¨å·¥å…·æ—¶å¯ä»¥çœç•¥ `base_dir` å‚æ•°ã€‚

### æ–¹å¼2: MCPå®¢æˆ·ç«¯é…ç½®

åœ¨ä½ çš„MCPå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ­¤æœåŠ¡ï¼š

#### Claude Desktop é…ç½®

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆWindows: `%APPDATA%\Claude\claude_desktop_config.json`ï¼‰ï¼š

```json
{
  "mcpServers": {
    "session-saver": {
      "command": "node",
      "args": ["d:\\Server\\www\\_code\\mcp_save_session\\index.js"]
    }
  }
}
```

#### é€šè¿‡ npm å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
npm install -g mcp-session-saver
```

é…ç½®æ–‡ä»¶ï¼š

```json
{
  "mcpServers": {
    "session-saver": {
      "command": "mcp-session-saver"
    }
  }
}
```

#### ä½¿ç”¨ npxï¼ˆæ— éœ€å®‰è£…ï¼‰

```json
{
  "mcpServers": {
    "session-saver": {
      "command": "npx",
      "args": ["mcp-session-saver"]
    }
  }
}
```

## ä½¿ç”¨æ–¹æ³•

### 1. ä¿å­˜ä¼šè¯

#### ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆç®€å•ï¼‰

å¦‚æœå·²é…ç½® `config.json`ï¼Œå¯ä»¥çœç•¥ `base_dir` å‚æ•°ï¼š

```javascript
{
  "ide_name": "VSCode",
  "session_description": "å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½",
  "content": "# ä»Šæ—¥å·¥ä½œ\n\n- å®Œæˆäº†ç”¨æˆ·ç™»å½•åŠŸèƒ½\n- ä¿®å¤äº†3ä¸ªbug\n- ä»£ç å®¡æŸ¥"
}
```

#### æŒ‡å®šä¿å­˜è·¯å¾„ï¼ˆçµæ´»ï¼‰

```javascript
{
  "base_dir": "D:\\Administrator\\Documents\\ide_sessions",
  "ide_name": "VSCode",
  "session_description": "å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½",
  "content": "# ä»Šæ—¥å·¥ä½œ\n\n- å®Œæˆäº†ç”¨æˆ·ç™»å½•åŠŸèƒ½\n- ä¿®å¤äº†3ä¸ªbug\n- ä»£ç å®¡æŸ¥"
}
```

**å¯é€‰å‚æ•°ï¼š**
- `session_time`: ISO 8601æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œå¦‚ "2025-12-15T10:30:00"

### 2. åˆ—å‡ºä¼šè¯

#### ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆç®€å•ï¼‰

```javascript
// åˆ—å‡ºæ‰€æœ‰ä¼šè¯
{}

// åˆ—å‡ºç‰¹å®šIDEçš„ä¼šè¯
{
  "ide_name": "VSCode"
}

// åˆ—å‡ºç‰¹å®šæ—¥æœŸçš„æ‰€æœ‰ä¼šè¯
{
  "ide_name": "VSCode",
  "date_filter": "2025-12-15"
}
```

#### æŒ‡å®šè·¯å¾„

```javascript
// åˆ—å‡ºæ‰€æœ‰ä¼šè¯
{
  "base_dir": "D:\\Administrator\\Documents\\ide_sessions"
}

// åˆ—å‡ºç‰¹å®šIDEçš„ä¼šè¯
{
  "base_dir": "D:\\Administrator\\Documents\\ide_sessions",
  "ide_name": "VSCode"
}

// åˆ—å‡ºç‰¹å®šæ—¥æœŸçš„æ‰€æœ‰ä¼šè¯
{
  "base_dir": "D:\\Administrator\\Documents\\ide_sessions",
  "ide_name": "VSCode",
  "date_filter": "2025-12-15"
}
```

## å·¥å…·è¯´æ˜

### save_session

ä¿å­˜ä¼šè¯è®°å½•åˆ°Markdownæ–‡ä»¶ã€‚

**å‚æ•°:**
- `base_dir` (å¯é€‰): ä¿å­˜ä¼šè¯çš„åŸºç¡€ç›®å½•è·¯å¾„ï¼Œé»˜è®¤ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„æˆ– `~/Documents/ide_sessions`
- `ide_name` (å¿…éœ€): IDEåç§°ï¼ˆå¦‚: VSCode, Cursor, Windsurfç­‰ï¼‰
- `session_description` (å¿…éœ€): ä¼šè¯æè¿°ï¼ˆç®€çŸ­æè¿°ä¼šè¯å†…å®¹ï¼‰
- `content` (å¿…éœ€): ä¼šè¯å†…å®¹ï¼ˆMarkdownæ ¼å¼ï¼‰
- `session_time` (å¯é€‰): ä¼šè¯æ—¶é—´ï¼ˆISO 8601æ ¼å¼ï¼Œé»˜è®¤ä¸ºå½“å‰æ—¶é—´ï¼‰

**è¿”å›:**
ä¿å­˜æˆåŠŸåè¿”å›æ–‡ä»¶è·¯å¾„ã€‚

### list_sessions

åˆ—å‡ºå·²ä¿å­˜çš„ä¼šè¯è®°å½•ã€‚

**å‚æ•°:**
- `base_dir` (å¯é€‰): ä¼šè¯ä¿å­˜çš„åŸºç¡€ç›®å½•è·¯å¾„ï¼Œé»˜è®¤ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„
- `ide_name` (å¯é€‰): IDEåç§°ï¼Œç”¨äºç­›é€‰
- `date_filter` (å¯é€‰): æ—¥æœŸç­›é€‰ï¼ˆæ ¼å¼: YYYY-MM-DDï¼‰

**è¿”å›:**
ä¼šè¯åˆ—è¡¨ï¼ŒåŒ…å«IDEåç§°ã€æ—¥æœŸã€æ–‡ä»¶åã€è·¯å¾„ã€åˆ›å»ºæ—¶é—´å’Œæ–‡ä»¶å¤§å°ã€‚

## ç¤ºä¾‹

### ä¿å­˜ä¸€ä¸ªVSCodeçš„ä¼šè¯

```markdown
# å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½

**IDE:** VSCode  
**æ—¥æœŸ:** 2025-12-15  
**æ—¶é—´:** 2025/12/15 10:30:00

---

# ä»Šæ—¥å·¥ä½œ

## å®Œæˆå†…å®¹
- å®ç°äº†ç”¨æˆ·ç™»å½•åŠŸèƒ½
- æ·»åŠ äº†JWTè®¤è¯
- å®Œå–„äº†é”™è¯¯å¤„ç†

## é‡åˆ°çš„é—®é¢˜
- æ•°æ®åº“è¿æ¥æ± é…ç½®é—®é¢˜
- è·¨åŸŸè¯·æ±‚å¤„ç†

## è§£å†³æ–¹æ¡ˆ
...
```

## è®¸å¯è¯

MIT

## æ›´å¤šä¿¡æ¯

è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—è¯·æŸ¥çœ‹ [USAGE.md](USAGE.md)

## é¡¹ç›®ç»“æ„

```
mcp_save_session/
â”œâ”€â”€ index.js              # MCPæœåŠ¡ä¸»ç¨‹åº
â”œâ”€â”€ test.js               # åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ example.js            # ä½¿ç”¨ç¤ºä¾‹ï¼ˆéœ€è¦MCPå®¢æˆ·ç«¯ï¼‰
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md             # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ USAGE.md              # è¯¦ç»†ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ config.example.json   # é…ç½®ç¤ºä¾‹
â””â”€â”€ .gitignore            # Gitå¿½ç•¥æ–‡ä»¶
```

## ç‰¹æ€§äº®ç‚¹

- âœ¨ è‡ªåŠ¨ç»„ç»‡ç›®å½•ç»“æ„ï¼ˆIDE/æ—¥æœŸ/ä¼šè¯æè¿°ï¼‰
- ğŸ”’ è‡ªåŠ¨æ¸…ç†æ–‡ä»¶åä¸­çš„éæ³•å­—ç¬¦
- ğŸ“… æ”¯æŒè‡ªå®šä¹‰ä¼šè¯æ—¶é—´
- ğŸ“ ç”Ÿæˆæ ¼å¼åŒ–çš„Markdownæ–‡ä»¶
- ğŸ” æ”¯æŒç­›é€‰å’Œåˆ—å‡ºä¼šè¯è®°å½•
- ğŸŒ å®Œæ•´æ”¯æŒä¸­æ–‡è·¯å¾„å’Œå†…å®¹
- ğŸš€ ç®€å•æ˜“ç”¨çš„MCPå·¥å…·æ¥å£
